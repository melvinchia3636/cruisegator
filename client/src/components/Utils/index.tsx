import React, { useState } from "react";
import { Logo } from "./assets";
// eslint-disable-next-line @typescript-eslint/ban-ts-comment
//@ts-ignore
import ReactAnime from "react-animejs";

interface INavProps {
	className: string
}

interface INavState {
	isToggleOn: boolean;
	hideNav: boolean;
	isDone: boolean;
}

const Nav: React.FC<INavProps> = (): JSX.Element => {
	const page = ["Home", "Database", "Map", "News"];
	const pathname = location.pathname.match(/\/(.*?)(?:\/|$)/) || [];
	const pagename = pathname[pathname.length-1] || "Home";
	const {Anime, stagger} = ReactAnime;
	const [isNavToggle, setNavToggle] = useState(false);
	const [firstTime, setFirstTime] = useState(true);
	console.log(pagename[0]+pagename.slice(1));

	return <nav className="sticky top-0 left-0 z-[9999]">
		<div className={`absolute top-0 left-0 w-screen h-screen transform overflow-hidden ${!firstTime ? (isNavToggle ? "rounded-animation-on" : "rounded-animation-off") : "-translate-y-full"} ${pagename === "database" ? "" : "bg-white"}`}>
			{isNavToggle ? <Anime initial={[
				{
					targets: ".phone-nav li",
					translateX: ["-1000%", "0%"],
					delay: stagger(200, {start: 300}),
					easing: "spring(1, 80, 100, 0)"
				}
			]} className="h-full">
				<ul className="font-medium text-xl phone-nav flex flex-col justify-center items-center h-full gap-24">
					{page.map((e, i) => 
						<li key={e}>
							<a href={`/${e}`} className={`${page.indexOf(pagename[0].toUpperCase()+pagename.slice(1)) === i ? "active": ""}`}>{e}</a>
						</li>)}
				</ul>
			</Anime> : ""}
		</div>
		<div className="mx-8 lg:mx-32 border-gray-200 border-b-2 py-6 flex items-center justify-between relative z-[9999]">
			<a href="/"><img src={Logo}/></a>
			<div className="hidden xl:flex">
				{page.map((e, i) => <a key={i} href={"/"+e.toLowerCase()} className={`text-xl font-medium mx-12 ${page.indexOf(pagename[0].toUpperCase()+pagename.slice(1)) === i ? "active": ""}`}>{e}</a>)}
			</div>
			<button onClick={() => {setNavToggle(!isNavToggle); setFirstTime(false);}} className="flex items-center justify-center xl:hidden"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="2.6em" height="2.6em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 16"><g fill="none"><path d="M4 6a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1z" fill="#4189DD"/><path d="M11 11a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2h-8z" fill="#4189DD"/></g></svg></button>
		</div>
	</nav>;
};

const Footer = (): JSX.Element => {
	const nav_link: [string, string[][]][] = [
		["Our Features", [
			["Home", "/"],
			["Database", "/database"],
			["Map", "/map"],
			["News", "/"],
		]], 
		["About Us", [
			["Stories", "/"],
			["Old Designs", "/database"],
			["Inspirations", "/map"],
			["Thoughts", "/"],
		]],
	];
	return (<footer className="w-100 pt-24 flex flex-col justify-center items-center bg-blue-700">
		<div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-[repeat(4,auto)] gap-y-24 justify-between w-[calc(100%-6rem)] sm:w-[calc(100%-16rem)] sm:mx-32 pb-12 border-b-2 border-gray-200">
			<svg width="88" height="88" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M32.8965 9.83301C32.2169 9.83301 31.5651 10.103 31.0846 10.5835C30.604 11.0641 30.334 11.7159 30.334 12.3955V20.083H22.6465C21.9669 20.083 21.3151 20.353 20.8346 20.8335C20.354 21.3141 20.084 21.9659 20.084 22.6455V38.9225L15.0957 40.7504C14.7626 40.8721 14.4584 41.0616 14.2023 41.307C13.9463 41.5523 13.7439 41.8481 13.6081 42.1757C13.4722 42.5032 13.4058 42.8555 13.4131 43.21C13.4204 43.5645 13.5012 43.9137 13.6504 44.2354L21.6284 61.3837C22.7952 60.9985 24.0525 60.9825 25.2288 61.3377C26.4051 61.6929 27.4433 62.4022 28.202 63.3688L19.4759 44.6044L41.9814 36.3634C43.2931 35.883 44.7316 35.8769 46.0473 36.3463L69.1952 44.6078L60.2367 62.8699C61.0513 62.0412 62.0899 61.4679 63.2252 61.2203C64.3606 60.9727 65.5436 61.0616 66.6293 61.4759L75.0616 44.2867C75.2208 43.9626 75.3097 43.6086 75.3225 43.2478C75.3353 42.887 75.2717 42.5275 75.1359 42.193C75.0001 41.8585 74.7951 41.5564 74.5344 41.3066C74.2737 41.0569 73.9632 40.865 73.6232 40.7436L67.9174 38.7073V22.6455C67.9174 21.9659 67.6474 21.3141 67.1668 20.8335C66.6863 20.353 66.0345 20.083 65.3549 20.083H57.6674V12.3955C57.6674 11.7159 57.3974 11.0641 56.9168 10.5835C56.4363 10.103 55.7845 9.83301 55.1049 9.83301H32.8965ZM52.5424 20.083H35.459V14.958H52.5424V20.083ZM62.7924 25.208V36.8793L47.7693 31.5186C45.3256 30.6476 42.6541 30.6597 40.2184 31.5528L25.209 37.0433V25.208H62.7924Z" fill="#4189DD"/>
				<path d="M66.9846 66.4265L66.9743 66.3923C66.8288 65.856 66.5128 65.3815 66.0742 65.0405C65.6355 64.6994 65.0978 64.5101 64.5422 64.5013C63.9865 64.4924 63.4431 64.6644 62.9937 64.9913C62.5444 65.3182 62.2135 65.7823 62.0509 66.3137V66.3205L62.0372 66.3513L61.9689 66.5495C61.5356 67.7091 60.9409 68.8018 60.2025 69.7953C58.8802 71.5549 56.9942 73.0411 54.2506 73.0411C51.5071 73.0411 49.6176 71.5549 48.2954 69.7953C47.5145 68.744 46.895 67.5821 46.4572 66.3479L46.447 66.3171C46.2867 65.7917 45.9617 65.3317 45.5201 65.005C45.0785 64.6783 44.5436 64.5021 43.9943 64.5025C43.4449 64.5029 42.9103 64.6798 42.4691 65.0071C42.0279 65.3345 41.7037 65.7949 41.5441 66.3205V66.324L41.5304 66.3581C41.4148 66.6943 41.2837 67.0249 41.1375 67.349C40.8334 68.0255 40.3619 68.9206 39.7025 69.7953C38.3871 71.5549 36.5045 73.0411 33.7506 73.0411C30.9968 73.0411 29.1108 71.5549 27.792 69.7953C27.0146 68.746 26.3985 67.5863 25.9641 66.3547L25.9538 66.3171C25.7923 65.7855 25.4623 65.3207 25.0137 64.9929C24.565 64.6651 24.022 64.492 23.4664 64.4998C22.9108 64.5075 22.3728 64.6956 21.9334 65.0357C21.494 65.3758 21.1771 65.8495 21.0304 66.3855L21.0202 66.4162L20.9587 66.6007C20.5565 67.736 19.9752 68.7995 19.2367 69.7509C17.9247 71.425 15.8337 73.0411 12.3965 73.0411C11.7169 73.0411 11.0651 73.3111 10.5845 73.7917C10.104 74.2722 9.83398 74.924 9.83398 75.6036C9.83398 76.2833 10.104 76.935 10.5845 77.4156C11.0651 77.8962 11.7169 78.1661 12.3965 78.1661C17.7743 78.1661 21.2354 75.5114 23.2717 72.9147L23.5007 72.6106L23.692 72.8703C25.578 75.3816 28.817 78.1661 33.7506 78.1661C38.6843 78.1661 41.9233 75.3816 43.8059 72.8703L44.0006 72.6038L44.1988 72.8737C46.0848 75.3816 49.3238 78.1661 54.2506 78.1661C59.1775 78.1661 62.4165 75.3816 64.3025 72.8703L64.4904 72.614C64.5621 72.7165 64.6373 72.8122 64.7159 72.9113C66.7488 75.5114 70.2167 78.1661 75.6048 78.1661C76.2844 78.1661 76.9362 77.8962 77.4168 77.4156C77.8973 76.935 78.1673 76.2833 78.1673 75.6036C78.1673 74.924 77.8973 74.2722 77.4168 73.7917C76.9362 73.3111 76.2844 73.0411 75.6048 73.0411C72.1471 73.0411 70.0596 71.425 68.7544 69.7543C67.9801 68.7534 67.3816 67.628 66.9846 66.4265V66.4265Z" fill="#4189DD"/>
			</svg>
			{nav_link.map(([name, items]) => (
				<div key={name}>
					<h4 className="font-semibold text-2xl text-blue-800">{name}</h4>
					{items.map(([text, href]) => <a className="font-medium text-lg flex my-4" href={href} key={text}>{text}</a>)}
				</div>
			))}
			<form className="max-w-[24rem]">
				<h4 className="font-semibold text-2xl text-blue-800">Subscribe Us</h4>
				<p className="font-medium text-md leading-[139%] mt-2 mb-6">Get the latest news from our website everyday though email</p>
				<div className="flex shadow-default rounded-md">
					<div className="bg-white h-full pl-2 py-2 rounded-l-md">
						<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M12 1.9502C6.48 1.9502 2 6.4302 2 11.9502C2 17.4702 6.48 21.9502 12 21.9502H17V19.9502H12C7.66 19.9502 4 16.2902 4 11.9502C4 7.6102 7.66 3.9502 12 3.9502C16.34 3.9502 20 7.6102 20 11.9502V13.3802C20 14.1702 19.29 14.9502 18.5 14.9502C17.71 14.9502 17 14.1702 17 13.3802V11.9502C17 9.1902 14.76 6.9502 12 6.9502C9.24 6.9502 7 9.1902 7 11.9502C7 14.7102 9.24 16.9502 12 16.9502C13.38 16.9502 14.64 16.3902 15.54 15.4802C16.19 16.3702 17.31 16.9502 18.5 16.9502C20.47 16.9502 22 15.3502 22 13.3802V11.9502C22 6.4302 17.52 1.9502 12 1.9502ZM12 14.9502C10.34 14.9502 9 13.6102 9 11.9502C9 10.2902 10.34 8.9502 12 8.9502C13.66 8.9502 15 10.2902 15 11.9502C15 13.6102 13.66 14.9502 12 14.9502Z" fill="#C4CBD4"/>
						</svg>
					</div>
					<input className="border-0 fw-lighter block w-full px-2 py-2 bg-white placeholder-gray-200 rounded-none" type="email" name="email" placeholder="Email Address"/>
					<input className="border-0 block px-6 py-2 bg-blue-800 text-white font-medium tracking-wider rounded-r-md rounded-l-none" type="submit" name="submit" value="Send"/>
				</div>
				<div className="flex gap-6 mt-8">
					<a>
						<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M16.8047 8.27572C17.4011 8.27572 17.8847 7.79219 17.8847 7.19572C17.8847 6.59925 17.4011 6.11572 16.8047 6.11572C16.2082 6.11572 15.7247 6.59925 15.7247 7.19572C15.7247 7.79219 16.2082 8.27572 16.8047 8.27572Z" fill="#4189DD"/>
							<path d="M12 7.37842C11.0859 7.37842 10.1924 7.64946 9.43241 8.15728C8.67241 8.6651 8.08006 9.38688 7.73027 10.2313C7.38048 11.0758 7.28896 12.005 7.46728 12.9015C7.6456 13.798 8.08576 14.6215 8.73209 15.2678C9.37842 15.9141 10.2019 16.3543 11.0984 16.5326C11.9949 16.7109 12.9241 16.6194 13.7686 16.2696C14.613 15.9198 15.3348 15.3275 15.8426 14.5675C16.3504 13.8075 16.6215 12.914 16.6215 11.9999C16.6215 10.7742 16.1346 9.59872 15.2679 8.73202C14.4012 7.86532 13.2257 7.37842 12 7.37842ZM12 14.9999C11.4066 14.9999 10.8266 14.824 10.3333 14.4943C9.83992 14.1647 9.4554 13.6961 9.22834 13.148C9.00128 12.5998 8.94187 11.9966 9.05762 11.4146C9.17338 10.8327 9.4591 10.2982 9.87866 9.8786C10.2982 9.45904 10.8328 9.17332 11.4147 9.05756C11.9967 8.94181 12.5999 9.00122 13.148 9.22828C13.6962 9.45534 14.1647 9.83986 14.4944 10.3332C14.824 10.8266 15 11.4066 15 11.9999C15 12.7956 14.6839 13.5586 14.1213 14.1212C13.5587 14.6838 12.7956 14.9999 12 14.9999Z" fill="#4189DD"/>
							<path d="M12 4.6215C14.403 4.6215 14.688 4.6305 15.6368 4.674C16.2074 4.68077 16.7726 4.78555 17.3077 4.98375C17.696 5.13352 18.0486 5.36291 18.3428 5.65716C18.6371 5.95141 18.8665 6.304 19.0163 6.69225C19.2145 7.2274 19.3192 7.79262 19.326 8.36325C19.3695 9.312 19.3785 9.597 19.3785 12.0007C19.3785 14.4045 19.3695 14.688 19.326 15.6368C19.3192 16.2074 19.2145 16.7726 19.0163 17.3077C18.8665 17.696 18.6371 18.0486 18.3428 18.3428C18.0486 18.6371 17.696 18.8665 17.3077 19.0163C16.7726 19.2145 16.2074 19.3192 15.6368 19.326C14.688 19.3695 14.403 19.3785 12 19.3785C9.597 19.3785 9.312 19.3695 8.36325 19.326C7.79262 19.3192 7.2274 19.2145 6.69225 19.0163C6.304 18.8665 5.95141 18.6371 5.65716 18.3428C5.36291 18.0486 5.13352 17.696 4.98375 17.3077C4.78555 16.7726 4.68077 16.2074 4.674 15.6368C4.6305 14.688 4.6215 14.403 4.6215 12C4.6215 9.597 4.6305 9.312 4.674 8.36325C4.68077 7.79262 4.78555 7.2274 4.98375 6.69225C5.13352 6.304 5.36291 5.95141 5.65716 5.65716C5.95141 5.36291 6.304 5.13352 6.69225 4.98375C7.2274 4.78555 7.79262 4.68077 8.36325 4.674C9.312 4.6305 9.597 4.6215 12 4.6215ZM12 3C9.55575 3 9.249 3.0105 8.289 3.054C7.54258 3.06907 6.80412 3.21058 6.105 3.4725C5.50704 3.70372 4.96399 4.05733 4.51066 4.51066C4.05733 4.96399 3.70372 5.50704 3.4725 6.105C3.21049 6.80435 3.06899 7.54308 3.054 8.28975C3.0105 9.24975 3 9.555 3 12C3 14.445 3.0105 14.751 3.054 15.711C3.06907 16.4574 3.21058 17.1959 3.4725 17.895C3.70372 18.493 4.05733 19.036 4.51066 19.4893C4.96399 19.9427 5.50704 20.2963 6.105 20.5275C6.80435 20.7895 7.54308 20.931 8.28975 20.946C9.24975 20.9895 9.55575 21 12 21C14.4443 21 14.751 20.9895 15.711 20.946C16.4577 20.931 17.1964 20.7895 17.8958 20.5275C18.4937 20.2963 19.0368 19.9427 19.4901 19.4893C19.9434 19.036 20.297 18.493 20.5282 17.895C20.79 17.1956 20.9313 16.4569 20.946 15.7103C20.9895 14.7503 21 14.445 21 12C21 9.555 20.9895 9.249 20.946 8.289C20.9309 7.54258 20.7894 6.80412 20.5275 6.105C20.2963 5.50704 19.9427 4.96399 19.4893 4.51066C19.036 4.05733 18.493 3.70372 17.895 3.4725C17.1956 3.21075 16.4569 3.0695 15.7103 3.05475C14.7503 3.00975 14.445 3 12 3Z" fill="#4189DD"/>
						</svg>
					</a>
					<a>
						<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M12.006 19.012H11.986C11.924 19.012 5.721 19 4.156 18.575C3.73314 18.4611 3.34762 18.2381 3.03804 17.9283C2.72846 17.6186 2.50568 17.2329 2.392 16.81C2.11059 15.2224 1.97469 13.6123 1.986 12C1.97874 10.385 2.11831 8.77271 2.403 7.183C2.51989 6.75937 2.7437 6.3729 3.05295 6.06067C3.36221 5.74844 3.74652 5.52094 4.169 5.4C5.691 5 11.723 5 11.979 5H12C12.063 5 18.282 5.012 19.831 5.437C20.69 5.67 21.361 6.341 21.593 7.2C21.883 8.794 22.02 10.411 22 12.031C22.007 13.644 21.8671 15.2543 21.582 16.842C21.4668 17.2645 21.2432 17.6494 20.9332 17.9587C20.6232 18.268 20.2377 18.4908 19.815 18.605C18.295 19.008 12.262 19.012 12.006 19.012ZM10.006 9.005L10.001 15.005L15.213 12.005L10.006 9.005Z" fill="#4189DD"/>
						</svg>
					</a>
					<a>
						<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M13.397 20.9972V12.8012H16.162L16.573 9.59217H13.397V7.54817C13.397 6.62217 13.655 5.98817 14.984 5.98817H16.668V3.12717C15.8487 3.03936 15.0251 2.99696 14.201 3.00017C11.757 3.00017 10.079 4.49217 10.079 7.23117V9.58617H7.33203V12.7952H10.085V20.9972H13.397Z" fill="#4189DD"/>
						</svg>
					</a>
					<a>
						<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path fillRule="evenodd" clipRule="evenodd" d="M12.026 2C6.517 2 2.052 6.465 2.052 11.974C2.052 16.38 4.909 20.119 8.873 21.439C9.372 21.529 9.552 21.222 9.552 20.958C9.552 20.721 9.544 20.093 9.541 19.262C6.766 19.864 6.18 17.924 6.18 17.924C5.728 16.772 5.073 16.465 5.073 16.465C4.168 15.846 5.142 15.86 5.142 15.86C6.144 15.93 6.669 16.888 6.669 16.888C7.559 18.412 9.005 17.972 9.571 17.717C9.662 17.072 9.922 16.632 10.206 16.383C7.992 16.132 5.664 15.276 5.664 11.453C5.664 10.366 6.053 9.474 6.688 8.778C6.587 8.525 6.242 7.51 6.787 6.138C6.787 6.138 7.624 5.869 9.529 7.159C10.3426 6.93767 11.1818 6.8247 12.025 6.823C12.8682 6.82437 13.7075 6.93735 14.521 7.159C16.427 5.868 17.263 6.138 17.263 6.138C17.808 7.51 17.466 8.525 17.362 8.778C18.002 9.474 18.386 10.365 18.386 11.453C18.386 15.286 16.056 16.128 13.834 16.375C14.189 16.683 14.509 17.291 14.509 18.221C14.509 19.555 14.497 20.631 14.497 20.958C14.497 21.225 14.675 21.535 15.184 21.437C19.146 20.115 22 16.379 22 11.974C22 6.465 17.535 2 12.026 2Z" fill="#4189DD"/>
						</svg>
					</a>
				</div>
			</form>
		</div>
		<div className="flex justify-between w-full px-12 sm:px-32 gap-2 sm:gap-6 flex-col sm:flex-row items-center">
			<p className="text-blue-500 font-medium mt-5 sm:mb-5">Copyright © Cruisegator 2021.</p>
			<p className="text-blue-500 font-medium mb-5 sm:mt-5">Design by <span className="text-blue-800">Melvin Chia</span></p>
		</div>
	</footer>
	);
};

export {Nav, Footer};